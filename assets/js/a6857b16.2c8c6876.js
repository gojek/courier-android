"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[145],{3313(e,r,t){t.r(r),t.d(r,{assets:()=>p,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var a=t(8168),n=(t(6540),t(5680));const o={},s="Message & Stream Adapters",i={unversionedId:"MessageStreamAdapters",id:"MessageStreamAdapters",title:"Message & Stream Adapters",description:"Courier provides the functionality of passing your own custom or library-provided message & stream adapters.",source:"@site/docs/MessageStreamAdapters.md",sourceDirName:".",slug:"/MessageStreamAdapters",permalink:"/courier-android/docs/MessageStreamAdapters",draft:!1,editUrl:"https://github.com/gojek/courier-android/edit/main/docs/docs/MessageStreamAdapters.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Send & Receive messages",permalink:"/courier-android/docs/SendReceiveMessage"},next:{title:"Experiment Configs",permalink:"/courier-android/docs/ExperimentConfigs"}},p={},l=[{value:"Message Adapter",id:"message-adapter",level:2},{value:"Stream Adapter",id:"stream-adapter",level:2}],c={toc:l};function u({components:e,...r}){return(0,n.yg)("wrapper",(0,a.A)({},c,r,{components:e,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"message--stream-adapters"},"Message & Stream Adapters"),(0,n.yg)("p",null,"Courier provides the functionality of passing your own custom or library-provided message & stream adapters."),(0,n.yg)("h2",{id:"message-adapter"},"Message Adapter"),(0,n.yg)("p",null,"To serialize and deserialize received and published messages, Courier uses MessageAdapter. With this, you don't need to handle the serialization and deserialization process when publishing and receiving messages from broker."),(0,n.yg)("p",null,"Courier library provides the following message adapters:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("a",{parentName:"p",href:"https://github.com/google/gson"},"Gson"),": courier-message-adapter-gson")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("a",{parentName:"p",href:"https://github.com/Kotlin/kotlinx.serialization"},"Kotlin Serialization"),": courier-message-adapter-kotlin-serialization")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("a",{parentName:"p",href:"https://github.com/square/moshi/"},"Moshi"),": courier-message-adapter-moshi")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("a",{parentName:"p",href:"https://developers.google.com/protocol-buffers/"},"Protobuf"),": courier-message-adapter-protobuf"))),(0,n.yg)("p",null,"You can also create your own custom message adapter by implementing the MessageAdapter.Factory interface."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-kotlin"},"class MyCustomMessageAdapterFactory : MessageAdapter.Factory {\n\n    override fun create(type: Type, annotations: Array<Annotation>): MessageAdapter<*> {\n        return MyCustomMessageAdapter()\n    }\n}\n\nprivate class MyCustomMessageAdapter<T> constructor() : MessageAdapter<T> {\n\n    override fun fromMessage(topic: String, message: Message): T {\n        // convert message to custom type\n    }\n\n    override fun toMessage(topic: String, data: T): Message {\n        // convert custom type to message\n    }\n\n    override fun contentType(): String {\n        // content-type supported by this adapter.\n    }\n}\n")),(0,n.yg)("h2",{id:"stream-adapter"},"Stream Adapter"),(0,n.yg)("p",null,"Courier library provides the following stream adapters:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"courier-stream-adapter-rxjava")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"courier-stream-adapter-rxjava2")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"courier-stream-adapter-coroutines"))),(0,n.yg)("p",null,"You can also create your own custom Stream adapter by implementing the StreamAdapter.Factory interface."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-kotlin"},"class MyCustomStreamAdapterFactory : StreamAdapter.Factory {\n\n    override fun create(type: Type): StreamAdapter<Any, Any> {\n        return MyCustomStreamAdapter()\n    }\n}\n\nprivate class MyCustomStreamAdapter<T> : StreamAdapter<T, Any> {\n\n    override fun adapt(stream: Stream<T>): Any {\n        // convert stream to custom stream\n    }\n}\n")))}u.isMDXComponent=!0},5680(e,r,t){t.d(r,{xA:()=>c,yg:()=>d});var a=t(6540);function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach(function(r){n(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function i(e,r){if(null==e)return{};var t,a,n=function(e,r){if(null==e)return{};var t,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var p=a.createContext({}),l=function(e){var r=a.useContext(p),t=r;return e&&(t="function"==typeof e?e(r):s(s({},r),e)),t},c=function(e){var r=l(e.components);return a.createElement(p.Provider,{value:r},e.children)},u={inlineCode:"code",wrapper:function(e){var r=e.children;return a.createElement(a.Fragment,{},r)}},m=a.forwardRef(function(e,r){var t=e.components,n=e.mdxType,o=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),m=l(t),d=n,g=m["".concat(p,".").concat(d)]||m[d]||u[d]||o;return t?a.createElement(g,s(s({ref:r},c),{},{components:t})):a.createElement(g,s({ref:r},c))});function d(e,r){var t=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var o=t.length,s=new Array(o);s[0]=m;var i={};for(var p in r)hasOwnProperty.call(r,p)&&(i[p]=r[p]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var l=2;l<o;l++)s[l]=t[l];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);